import{av as f,X as d,aw as o,ax as s}from"./CEDIh2CV.js";import{l as c}from"./D1l4T5Fa.js";function _(e,u,i){if(e.multiple){if(u==null)return;if(!d(u))return o();for(var r of e.options)r.selected=u.includes(t(r));return}for(r of e.options){var a=t(r);if(s(a,u)){r.selected=!0;return}}(!i||u!==void 0)&&(e.selectedIndex=-1)}function b(e,u){f(()=>{var i=new MutationObserver(()=>{var r=e.__value;_(e,r)});return i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function q(e,u,i=u){var r=!0;c(e,"change",a=>{var n=a?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(n),t);else{var v=e.querySelector(n)??e.querySelector("option:not([disabled])");l=v&&t(v)}i(l)}),f(()=>{var a=u();if(_(e,a,r),r&&a===void 0){var n=e.querySelector(":checked");n!==null&&(a=t(n),i(a))}e.__value=a,r=!1}),b(e)}function t(e){return"__value"in e?e.__value:e.value}export{q as b};
